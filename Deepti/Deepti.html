<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Deepti â€” Will you be my Valentine?</title>

<!-- Confetti -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Segoe UI',system-ui,sans-serif;
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background:linear-gradient(135deg,#ffe6ee,#fff);
  overflow:hidden;
}

.wrapper{
  background:white;
  width:92%;
  max-width:900px;
  padding:40px 25px;
  border-radius:22px;
  text-align:center;
  box-shadow:0 20px 50px rgba(255,0,90,.18);
}

h1{color:#ff2d55;font-size:2.2rem;margin-bottom:8px}
p{color:#444;margin-bottom:30px}

.buttons{
  position:relative;
  height:140px;
  display:flex;
  justify-content:center;
  align-items:center;
  gap:28px;
}

button{
  padding:12px 26px;
  font-size:1rem;
  border:none;
  border-radius:999px;
  cursor:pointer;
}

.yes{
  background:linear-gradient(90deg,#ff6b9a,#ff2d55);
  color:white;
  box-shadow:0 8px 20px rgba(255,45,85,.4);
}

.no-wrap{
  position:relative;
  width:120px;
  height:50px;
}

.no{
  width:100%;
  height:100%;
  background:#fff;
  border:2px solid #ffc1d9;
  color:#ff2d55;
}

.note{font-size:.9rem;color:#999;margin-top:18px}

/* Modal */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.45);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:20;
}
.modal.show{display:flex}

.card{
  background:white;
  padding:30px;
  border-radius:18px;
  width:90%;
  max-width:420px;
  text-align:center;
  animation:pop .4s ease;
}
@keyframes pop{
  from{transform:scale(.8);opacity:0}
  to{transform:scale(1);opacity:1}
}
.card h2{color:#ff2d55}

.close{
  margin-top:20px;
  background:#ff2d55;
  color:white;
}
</style>
</head>

<body>

<!-- Music -->
<audio id="music" loop>
  <source src="https://assets.mixkit.co/music/preview/mixkit-romantic-hopeful-piano-243.mp3" type="audio/mpeg">
</audio>

<div class="wrapper">
  <h1 id="mainTitle">Deepti â€” Will you be my Valentine? ğŸ’–</h1>
  <p id="subtitle">You make my ordinary days feel magical.</p>

  <div class="buttons" id="container">
    <button class="yes" id="yesBtn">Yes ğŸ’•</button>

    <div class="no-wrap" id="noWrap">
      <button class="no" id="noBtn">No ğŸ˜œ</button>
    </div>
  </div>

  <div class="note">Try clicking â€œNoâ€ ğŸ˜‰</div>
</div>

<!-- Modal -->
<div class="modal" id="modal">
  <div class="card" id="modalCard">
    <h2 id="modalTitle">One last question ğŸ˜Œ</h2>
    <p id="modalText">Just a momentâ€¦</p>
    <button class="close" id="finalBtn">Always â¤ï¸</button>
  </div>
</div>

<script>
const noBtn=document.getElementById('noBtn');
const noWrap=document.getElementById('noWrap');
const container=document.getElementById('container');
const yesBtn=document.getElementById('yesBtn');
const modal=document.getElementById('modal');
const music=document.getElementById('music');

function moveNo(){
  const c=container.getBoundingClientRect();
  const b=noWrap.getBoundingClientRect();
  const x=Math.random()*(c.width-b.width);
  const y=Math.random()*(c.height-b.height);
  noWrap.style.transform=`translate(${x}px,${y}px)`;
}
noBtn.addEventListener('mouseenter',moveNo);
noBtn.addEventListener('touchstart',e=>{e.preventDefault();moveNo();});

yesBtn.addEventListener('click',()=>{
  // Remove NO button
  noWrap.style.display='none';

  // Change main text
  document.getElementById('mainTitle').innerText=
    "Deepti, you just made me the happiest person â¤ï¸";
  document.getElementById('subtitle').innerText=
    "I was always hoping you'd say yesâ€¦";

  // Music fade-in
  music.volume=0;
  music.play();
  const fade=setInterval(()=>{
    if(music.volume<0.9) music.volume+=0.05;
    else clearInterval(fade);
  },200);

  fireConfetti();
  heartsBurst();
  modal.classList.add('show');
  startCountdown();
});

function startCountdown(){
  let count=3;
  const title=document.getElementById('modalTitle');
  const text=document.getElementById('modalText');
  const btn=document.getElementById('finalBtn');
  btn.style.display='none';

  title.innerText="One more thingâ€¦ ğŸ’«";

  const timer=setInterval(()=>{
    text.innerText=count+"...";
    count--;
    if(count<0){
      clearInterval(timer);
      title.innerText="Okay, final question â¤ï¸";
      text.innerText=
        "Will you let me love you, annoy you, support you and stand by youâ€¦ always?";
      btn.style.display='inline-block';
    }
  },1000);
}

document.getElementById('finalBtn').addEventListener('click',()=>{
  document.getElementById('modalCard').innerHTML=`
    <h2>Decision Locked ğŸ”’â¤ï¸</h2>
    <p>
      This answer is saved forever.<br>
      No undo. No escape. Just us.
    </p>
    <p style="margin-top:18px;font-size:1.4rem">ğŸ’–ğŸ’–ğŸ’–</p>
  `;
  fireConfetti();
});

/* Confetti */
function fireConfetti(){
  confetti({particleCount:140,spread:100,origin:{y:.6}});
}

/* Hearts */
function heartsBurst(){
  for(let i=0;i<25;i++){
    const h=document.createElement('div');
    h.innerHTML='ğŸ’–';
    h.style.position='fixed';
    h.style.left=Math.random()*100+'vw';
    h.style.bottom='-20px';
    h.style.fontSize=(20+Math.random()*20)+'px';
    h.style.zIndex=30;
    document.body.appendChild(h);

    h.animate([
      {transform:'translateY(0)',opacity:1},
      {transform:'translateY(-120vh)',opacity:0}
    ],{duration:4500,easing:'ease-out'});

    setTimeout(()=>h.remove(),5000);
  }
}
</script>

</body>
</html>
